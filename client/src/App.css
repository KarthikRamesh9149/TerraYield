/* App Layout */
.app {
  height: 100%;
  width: 100%;
  display: flex;
  background-color: var(--bg-primary);
}

/* Map Scene */
.map-scene {
  display: flex;
  width: 100%;
  height: 100%;
}

.map-container {
  flex: 1;
  position: relative;
  height: 100%;
}

/* Sidebar */
.sidebar {
  width: var(--sidebar-width);
  height: 100%;
  background-color: var(--bg-secondary);
  border-right: 1px solid var(--border-default);
  display: flex;
  flex-direction: column;
  overflow-y: auto;
}

.sidebar-header {
  padding: 24px 20px;
  border-bottom: 1px solid var(--border-default);
}

.sidebar-title {
  font-size: 20px;
  font-weight: 600;
  color: var(--text-primary);
  margin-bottom: 4px;
}

.sidebar-subtitle {
  font-size: 13px;
  color: var(--text-secondary);
}

.sidebar-section {
  padding: 20px;
  border-bottom: 1px solid var(--border-default);
}

.section-title {
  font-size: 12px;
  font-weight: 600;
  color: var(--text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin-bottom: 8px;
}

.section-description {
  font-size: 13px;
  color: var(--text-muted);
  margin-bottom: 16px;
}

/* Toggle Buttons */
.toggle-buttons {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.toggle-button {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px 16px;
  background-color: var(--bg-tertiary);
  border: 1px solid var(--border-default);
  border-radius: var(--radius-md);
  color: var(--text-secondary);
  transition: all var(--transition-fast);
}

.toggle-button:hover {
  background-color: var(--bg-hover);
  color: var(--text-primary);
}

.toggle-button.active {
  background-color: var(--accent-blue);
  background-color: rgba(88, 166, 255, 0.15);
  border-color: var(--accent-blue);
  color: var(--accent-blue);
}

.button-icon {
  display: flex;
  align-items: center;
  justify-content: center;
}

.button-text {
  font-size: 14px;
  font-weight: 500;
}

/* District List */
.district-list {
  display: flex;
  flex-direction: column;
  gap: 8px;
  list-style: none;
  padding: 0;
  margin: 0;
}

.district-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: 100%;
  padding: 10px 12px;
  background-color: var(--bg-tertiary);
  border: 1px solid transparent;
  border-radius: var(--radius-sm);
  text-align: left;
  cursor: pointer;
  transition: all var(--transition-fast);
}

.district-item:hover {
  background-color: var(--bg-hover);
}

.district-item.active {
  border-color: var(--accent-blue);
  background-color: rgba(88, 166, 255, 0.15);
}

.district-name {
  font-size: 14px;
  font-weight: 500;
  color: var(--text-primary);
}

.district-state {
  font-size: 12px;
  color: var(--text-muted);
}

/* Sidebar Footer */
.sidebar-footer {
  margin-top: auto;
  padding: 16px 20px;
  border-top: 1px solid var(--border-default);
}

.footer-text {
  font-size: 12px;
  color: var(--text-muted);
  text-align: center;
}

/* Legend */
.legend {
  position: absolute;
  bottom: 24px;
  right: 24px;
  background-color: rgba(22, 27, 34, 0.9);
  backdrop-filter: blur(var(--legend-blur));
  border: 1px solid var(--border-default);
  border-radius: var(--radius-md);
  padding: 16px;
  min-width: 180px;
  box-shadow: var(--shadow-lg);
}

.legend-title {
  font-size: 13px;
  font-weight: 600;
  color: var(--text-primary);
  margin-bottom: 12px;
}

.legend-items {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.legend-item {
  display: flex;
  align-items: center;
  gap: 10px;
}

.legend-color {
  width: 16px;
  height: 16px;
  border-radius: var(--radius-sm);
  flex-shrink: 0;
}

.legend-label {
  font-size: 12px;
  color: var(--text-secondary);
}

/* Tooltip */
.tooltip {
  position: fixed;
  background-color: rgba(22, 27, 34, 0.95);
  backdrop-filter: blur(8px);
  border: 1px solid var(--border-default);
  border-radius: var(--radius-md);
  padding: 12px 16px;
  max-width: var(--tooltip-max-width);
  box-shadow: var(--shadow-lg);
  pointer-events: none;
  z-index: 1000;
}

.tooltip-header {
  font-size: 14px;
  font-weight: 600;
  color: var(--text-primary);
  margin-bottom: 2px;
}

.tooltip-subheader {
  font-size: 12px;
  color: var(--text-secondary);
  margin-bottom: 10px;
}

.tooltip-content {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.tooltip-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 16px;
}

.tooltip-label {
  font-size: 12px;
  color: var(--text-muted);
}

.tooltip-value {
  font-size: 12px;
  color: var(--text-primary);
  font-weight: 500;
}

.tooltip-highlight {
  color: var(--accent-blue);
}

.tooltip-mono {
  font-family: 'SF Mono', 'Fira Code', monospace;
  font-size: 11px;
}

/* MapLibre overrides */
.maplibregl-ctrl-attrib {
  background-color: rgba(22, 27, 34, 0.8) !important;
  color: var(--text-muted) !important;
}

.maplibregl-ctrl-attrib a {
  color: var(--text-secondary) !important;
}

/* Map container with panel */
.map-container.panel-open {
  width: calc(100% - 420px);
}

/* Right Panel */
.right-panel {
  position: fixed;
  top: 0;
  right: 0;
  width: 420px;
  height: 100%;
  background-color: var(--bg-secondary);
  border-left: 1px solid var(--border-default);
  display: flex;
  flex-direction: column;
  z-index: 100;
  animation: slideIn 0.3s ease-out;
}

@keyframes slideIn {
  from {
    transform: translateX(100%);
  }

  to {
    transform: translateX(0);
  }
}

.panel-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 16px 20px;
  border-bottom: 1px solid var(--border-default);
  background-color: var(--bg-primary);
}

.panel-title {
  font-size: 18px;
  font-weight: 600;
  color: var(--text-primary);
  margin: 0;
}

.panel-close {
  background: none;
  border: none;
  color: var(--text-muted);
  font-size: 18px;
  cursor: pointer;
  padding: 4px 8px;
  border-radius: var(--radius-sm);
  transition: all var(--transition-fast);
}

.panel-close:hover {
  background-color: var(--bg-hover);
  color: var(--text-primary);
}

/* Panel Tabs */
.panel-tabs {
  display: flex;
  border-bottom: 1px solid var(--border-default);
  background-color: var(--bg-tertiary);
}

.tab-button {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  padding: 12px 16px;
  background: none;
  border: none;
  border-bottom: 2px solid transparent;
  color: var(--text-secondary);
  font-size: 13px;
  font-weight: 500;
  cursor: pointer;
  transition: all var(--transition-fast);
}

.tab-button:hover {
  background-color: var(--bg-hover);
  color: var(--text-primary);
}

.tab-button.active {
  color: var(--accent-blue);
  border-bottom-color: var(--accent-blue);
  background-color: var(--bg-secondary);
}

.tab-icon {
  font-size: 16px;
}

/* Panel Content */
.panel-content {
  flex: 1;
  overflow-y: auto;
  padding: 0;
}

.panel-section {
  padding: 16px 20px;
  border-bottom: 1px solid var(--border-default);
}

.panel-section:last-child {
  border-bottom: none;
}

.panel-section .section-title {
  font-size: 12px;
  font-weight: 600;
  color: var(--text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin-bottom: 12px;
}

.section-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 12px;
}

.section-header .section-title {
  margin-bottom: 0;
}

.refresh-btn {
  background: none;
  border: 1px solid var(--border-default);
  color: var(--text-secondary);
  width: 28px;
  height: 28px;
  border-radius: var(--radius-sm);
  cursor: pointer;
  font-size: 14px;
  transition: all var(--transition-fast);
}

.refresh-btn:hover:not(:disabled) {
  background-color: var(--bg-hover);
  color: var(--text-primary);
}

.refresh-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* Panel Footer */
.panel-footer {
  padding: 12px 20px;
  border-top: 1px solid var(--border-default);
  background-color: var(--bg-tertiary);
}

.iteration-badge {
  font-size: 11px;
  color: var(--text-muted);
}

/* Panel States */
.panel-loading {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 48px 20px;
  color: var(--text-secondary);
}

.loading-spinner {
  width: 32px;
  height: 32px;
  border: 3px solid var(--border-default);
  border-top-color: var(--accent-blue);
  border-radius: 50%;
  animation: spin 1s linear infinite;
  margin-bottom: 16px;
}

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

.panel-error {
  padding: 24px 20px;
  text-align: center;
  color: var(--accent-red);
}

.panel-empty {
  padding: 24px 20px;
  text-align: center;
  color: var(--text-muted);
}

/* District Header in Panel */
.land-intelligence-panel .district-header,
.crop-matchmaker-panel .district-header {
  display: flex;
  align-items: baseline;
  gap: 8px;
  margin-bottom: 8px;
}

.land-intelligence-panel .district-name {
  font-size: 20px;
  font-weight: 600;
  color: var(--text-primary);
  margin: 0;
}

.district-badge {
  margin-top: 8px;
}

.region-type {
  display: inline-block;
  padding: 4px 10px;
  font-size: 11px;
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  border-radius: var(--radius-sm);
  background-color: rgba(139, 92, 246, 0.15);
  color: #a78bfa;
}

.region-type.drought-prone {
  background-color: rgba(239, 68, 68, 0.15);
  color: #f87171;
}

/* Score Bar */
.score-bar {
  margin-bottom: 12px;
}

.score-bar:last-child {
  margin-bottom: 0;
}

.score-bar-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 6px;
}

.score-bar-label {
  font-size: 13px;
  color: var(--text-secondary);
}

.score-bar-value {
  font-size: 13px;
  font-weight: 600;
}

.score-bar-level {
  font-size: 11px;
  font-weight: 400;
  opacity: 0.7;
}

.score-bar-track {
  background-color: var(--bg-tertiary);
  border-radius: 4px;
  overflow: hidden;
}

.score-bar-fill {
  border-radius: 4px;
  transition: width 0.5s ease-out;
}

.overall-score {
  margin-top: 16px;
  padding-top: 16px;
  border-top: 1px solid var(--border-default);
}

/* Metrics Grid */
.metrics-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
}

.metric-item {
  display: flex;
  align-items: flex-start;
  gap: 10px;
  padding: 10px;
  background-color: var(--bg-tertiary);
  border-radius: var(--radius-sm);
}

.metric-icon {
  font-size: 18px;
}

.metric-content {
  display: flex;
  flex-direction: column;
}

.metric-value {
  font-size: 14px;
  font-weight: 600;
  color: var(--text-primary);
}

.metric-label {
  font-size: 11px;
  color: var(--text-muted);
  margin-top: 2px;
}

/* Current Crop */
.current-crop {
  background-color: var(--bg-tertiary);
  border-radius: var(--radius-md);
  padding: 12px;
}

.crop-info-row {
  display: flex;
  justify-content: space-between;
  padding: 8px 0;
  border-bottom: 1px solid var(--border-default);
}

.crop-info-row:last-child {
  border-bottom: none;
}

.crop-info-row .label {
  font-size: 13px;
  color: var(--text-muted);
}

.crop-info-row .value {
  font-size: 13px;
  font-weight: 500;
  color: var(--text-primary);
}

.crop-info-row .value.warning {
  color: var(--accent-yellow);
}

.crop-info-row .value.severe {
  color: var(--accent-red);
}

/* Narrative */
.narrative-content {
  background-color: var(--bg-tertiary);
  border-radius: var(--radius-md);
  padding: 14px;
}

.narrative-content p {
  font-size: 13px;
  line-height: 1.6;
  color: var(--text-secondary);
  margin: 0;
}

.loading-text {
  color: var(--text-muted);
  font-style: italic;
  font-size: 13px;
}

.placeholder-text {
  color: var(--text-muted);
  font-style: italic;
  font-size: 13px;
}

/* Crop Cards */
.crop-cards {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.crop-card {
  background-color: var(--bg-tertiary);
  border: 1px solid var(--border-default);
  border-radius: var(--radius-md);
  padding: 12px;
  cursor: pointer;
  transition: all var(--transition-fast);
}

.crop-card:hover {
  border-color: var(--accent-blue);
  background-color: var(--bg-hover);
}

.crop-card.expanded {
  border-color: var(--accent-blue);
}

.crop-card-header {
  display: flex;
  align-items: center;
  gap: 12px;
}

.crop-card-rank {
  font-size: 20px;
}

.crop-card-info {
  flex: 1;
}

.crop-card-name {
  font-size: 14px;
  font-weight: 600;
  color: var(--text-primary);
}

.crop-card-local {
  font-size: 12px;
  color: var(--text-muted);
}

.crop-card-score {
  text-align: center;
  padding: 6px 12px;
  background-color: var(--bg-secondary);
  border-radius: var(--radius-sm);
}

.crop-card-score .score-value {
  font-size: 18px;
  font-weight: 700;
  color: var(--accent-green);
  display: block;
}

.crop-card-score .score-label {
  font-size: 10px;
  color: var(--text-muted);
  text-transform: uppercase;
}

.crop-card-bar {
  margin-top: 10px;
}

.crop-card-expand-hint {
  text-align: center;
  font-size: 11px;
  color: var(--text-muted);
  margin-top: 8px;
}

.crop-card-details {
  margin-top: 12px;
  padding-top: 12px;
  border-top: 1px solid var(--border-default);
}

.crop-card-breakdown {
  margin-bottom: 12px;
}

.breakdown-title {
  font-size: 11px;
  font-weight: 600;
  color: var(--text-secondary);
  text-transform: uppercase;
  margin-bottom: 8px;
}

.breakdown-items {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 6px;
}

.breakdown-item {
  display: flex;
  justify-content: space-between;
  font-size: 12px;
  padding: 4px 8px;
  background-color: var(--bg-secondary);
  border-radius: var(--radius-sm);
}

.breakdown-label {
  color: var(--text-muted);
}

.breakdown-value {
  color: var(--accent-blue);
  font-weight: 500;
}

.crop-card-stats {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin-bottom: 10px;
}

.stat-item {
  display: flex;
  align-items: center;
  gap: 4px;
  padding: 4px 8px;
  background-color: var(--bg-secondary);
  border-radius: var(--radius-sm);
  font-size: 11px;
}

.stat-item .stat-icon {
  font-size: 12px;
}

.stat-item .stat-value {
  color: var(--text-primary);
  font-weight: 500;
}

.stat-item .stat-label {
  color: var(--text-muted);
}

.stat-item.nitrogen-badge {
  background-color: rgba(34, 197, 94, 0.15);
  color: var(--accent-green);
}

.crop-card-companion {
  font-size: 12px;
  color: var(--text-muted);
}

.companion-label {
  margin-right: 4px;
}

.companion-value {
  color: var(--text-secondary);
  font-weight: 500;
}

/* Companion Cards */
.companion-cards {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.companion-card {
  background-color: var(--bg-tertiary);
  border-radius: var(--radius-md);
  padding: 12px;
}

.companion-pair {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 8px;
}

.primary-crop {
  font-size: 13px;
  font-weight: 600;
  color: var(--text-primary);
  text-transform: capitalize;
}

.pair-plus {
  color: var(--accent-green);
  font-weight: 600;
}

.companion-crop {
  font-size: 13px;
  color: var(--accent-blue);
  font-weight: 500;
}

.companion-ratio {
  font-size: 12px;
  color: var(--text-muted);
  margin-bottom: 10px;
}

.ratio-value {
  color: var(--text-secondary);
  font-weight: 500;
  margin-left: 4px;
}

.companion-benefits {
  display: flex;
  gap: 16px;
}

.benefit-item {
  display: flex;
  align-items: center;
  gap: 6px;
}

.benefit-icon {
  font-size: 14px;
}

.benefit-value {
  font-size: 13px;
  font-weight: 600;
  color: var(--accent-green);
}

.benefit-label {
  font-size: 11px;
  color: var(--text-muted);
}

/* Economic Table */
.economic-table {
  background-color: var(--bg-tertiary);
  border-radius: var(--radius-md);
  overflow: hidden;
}

.table-header {
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  background-color: var(--bg-secondary);
  padding: 10px 12px;
  font-size: 11px;
  font-weight: 600;
  color: var(--text-muted);
  text-transform: uppercase;
}

.table-row {
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  padding: 10px 12px;
  border-top: 1px solid var(--border-default);
  font-size: 13px;
}

.table-row .col-label {
  color: var(--text-muted);
}

.table-row .col-current {
  color: var(--text-secondary);
  text-align: center;
}

.table-row .col-recommended {
  text-align: center;
  color: var(--text-secondary);
}

.table-row .col-recommended.highlight {
  color: var(--accent-green);
  font-weight: 600;
}

.table-row .warning {
  color: var(--accent-yellow);
}

.table-row .good {
  color: var(--accent-green);
}

.savings-row {
  background-color: rgba(34, 197, 94, 0.05);
}

.savings-row .col-savings {
  grid-column: 2 / 4;
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

.saving-item {
  font-size: 12px;
  font-weight: 500;
  color: var(--accent-green);
  padding: 2px 8px;
  background-color: rgba(34, 197, 94, 0.1);
  border-radius: var(--radius-sm);
}

/* Nitrogen Calculator */
.nitrogen-calculator {
  background-color: var(--bg-tertiary);
  border-radius: var(--radius-md);
  padding: 12px;
}

.nitrogen-card .nitrogen-header {
  margin-bottom: 12px;
}

.nitrogen-card .crop-name {
  font-size: 14px;
  font-weight: 600;
  color: var(--text-primary);
  text-transform: capitalize;
}

.nitrogen-stats {
  display: flex;
  gap: 24px;
  margin-bottom: 10px;
}

.nitrogen-stat {
  display: flex;
  flex-direction: column;
}

.nitrogen-stat .stat-value {
  font-size: 20px;
  font-weight: 700;
  color: var(--accent-green);
}

.nitrogen-stat .stat-label {
  font-size: 11px;
  color: var(--text-muted);
}

.nitrogen-note {
  font-size: 11px;
  color: var(--text-muted);
  font-style: italic;
  padding-top: 10px;
  border-top: 1px solid var(--border-default);
}

/* Why This Fits */
.why-content {
  background-color: var(--bg-tertiary);
  border-radius: var(--radius-md);
  padding: 14px;
}

.why-bullets {
  list-style: none;
  padding: 0;
  margin: 0;
}

.why-bullets li {
  position: relative;
  padding-left: 16px;
  margin-bottom: 10px;
  font-size: 13px;
  line-height: 1.5;
  color: var(--text-secondary);
}

.why-bullets li:before {
  content: "â€¢";
  position: absolute;
  left: 0;
  color: var(--accent-green);
  font-weight: bold;
}

.why-bullets li:last-child {
  margin-bottom: 0;
}

.why-text {
  font-size: 13px;
  line-height: 1.6;
  color: var(--text-secondary);
  margin: 0;
  white-space: pre-line;
}

/* ============================================
   Policy Simulator (Feature 3)
   ============================================ */

/* Upload Zone */
.upload-zone {
  border: 2px dashed var(--border-default);
  border-radius: var(--radius-md);
  padding: 24px 16px;
  text-align: center;
  transition: all var(--transition-fast);
  background-color: var(--bg-tertiary);
}

.upload-zone:hover {
  border-color: var(--accent-blue);
  background-color: var(--bg-hover);
}

.upload-icon {
  font-size: 32px;
  margin-bottom: 8px;
}

.upload-text {
  font-size: 13px;
  color: var(--text-secondary);
  margin-bottom: 12px;
}

.upload-btn {
  padding: 8px 20px;
  background-color: var(--accent-blue);
  color: #fff;
  border: none;
  border-radius: var(--radius-sm);
  font-size: 13px;
  font-weight: 500;
  cursor: pointer;
  transition: opacity var(--transition-fast);
}

.upload-btn:hover:not(:disabled) {
  opacity: 0.85;
}

.upload-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.upload-hint {
  font-size: 11px;
  color: var(--text-muted);
  margin-top: 10px;
}

/* Validation Errors */
.validation-errors {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.validation-error {
  display: flex;
  gap: 8px;
  padding: 8px 10px;
  background-color: rgba(239, 68, 68, 0.1);
  border-radius: var(--radius-sm);
  border-left: 3px solid var(--accent-red);
  font-size: 12px;
}

.error-row {
  font-weight: 600;
  color: var(--accent-red);
  white-space: nowrap;
}

.error-msg {
  color: var(--text-secondary);
}

/* Parsed Summary */
.parsed-summary {
  display: flex;
  gap: 12px;
}

.summary-stat {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 10px;
  background-color: var(--bg-tertiary);
  border-radius: var(--radius-sm);
}

.summary-stat .stat-value {
  font-size: 16px;
  font-weight: 700;
  color: var(--accent-blue);
}

.summary-stat .stat-label {
  font-size: 11px;
  color: var(--text-muted);
  margin-top: 2px;
}

/* Red Flags */
.red-flags-list {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.red-flag-item {
  padding: 10px 12px;
  border-radius: var(--radius-sm);
  border-left: 4px solid;
}

.red-flag-item.flag-critical {
  background-color: rgba(239, 68, 68, 0.08);
  border-left-color: #ef4444;
}

.red-flag-item.flag-high {
  background-color: rgba(249, 115, 22, 0.08);
  border-left-color: #f97316;
}

.red-flag-item.flag-medium {
  background-color: rgba(234, 179, 8, 0.08);
  border-left-color: #eab308;
}

.flag-header {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 4px;
}

.flag-badge {
  padding: 2px 8px;
  border-radius: 10px;
  font-size: 10px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.flag-badge.flag-critical {
  background-color: rgba(239, 68, 68, 0.2);
  color: #f87171;
}

.flag-badge.flag-high {
  background-color: rgba(249, 115, 22, 0.2);
  color: #fb923c;
}

.flag-badge.flag-medium {
  background-color: rgba(234, 179, 8, 0.2);
  color: #facc15;
}

.flag-crop {
  font-size: 13px;
  font-weight: 600;
  color: var(--text-primary);
  text-transform: capitalize;
}

.flag-district {
  font-size: 11px;
  color: var(--text-muted);
}

.flag-reason {
  font-size: 12px;
  color: var(--text-secondary);
  margin: 0;
  line-height: 1.4;
}

/* Arbitrage Table */
.arbitrage-table {
  background-color: var(--bg-tertiary);
  border-radius: var(--radius-md);
  overflow: hidden;
}

.arb-header {
  display: grid;
  grid-template-columns: 1fr 1fr 0.6fr 0.7fr;
  padding: 10px 12px;
  background-color: var(--bg-secondary);
  font-size: 11px;
  font-weight: 600;
  color: var(--text-muted);
  text-transform: uppercase;
}

.arb-row {
  display: grid;
  grid-template-columns: 1fr 1fr 0.6fr 0.7fr;
  padding: 10px 12px;
  border-top: 1px solid var(--border-default);
  font-size: 12px;
  align-items: center;
}

.arb-from {
  color: var(--text-secondary);
}

.arb-to {
  color: var(--accent-green);
  font-weight: 500;
}

.arb-water {
  color: var(--accent-blue);
  font-weight: 600;
}

.arb-feas {
  padding: 2px 8px;
  border-radius: 10px;
  font-size: 11px;
  font-weight: 600;
  text-align: center;
  text-transform: capitalize;
}

.arb-feas.feas-high {
  background-color: rgba(34, 197, 94, 0.15);
  color: var(--accent-green);
}

.arb-feas.feas-medium {
  background-color: rgba(234, 179, 8, 0.15);
  color: #facc15;
}

.arb-feas.feas-low {
  background-color: rgba(239, 68, 68, 0.15);
  color: #f87171;
}

/* Roadmap Timeline */
.roadmap-timeline {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.roadmap-year {
  padding: 12px;
  background-color: var(--bg-tertiary);
  border-radius: var(--radius-sm);
}

.year-marker {
  display: flex;
  justify-content: space-between;
  margin-bottom: 6px;
}

.year-number {
  font-size: 14px;
  font-weight: 600;
  color: var(--text-primary);
}

.year-shift {
  font-size: 13px;
  font-weight: 600;
  color: var(--accent-blue);
}

.year-details {
  display: flex;
  gap: 16px;
  margin-bottom: 8px;
  font-size: 12px;
  color: var(--text-muted);
}

.year-progress {
  height: 6px;
  background-color: var(--bg-secondary);
  border-radius: 3px;
  overflow: hidden;
}

.year-progress-fill {
  height: 100%;
  background: linear-gradient(90deg, var(--accent-blue), var(--accent-green));
  border-radius: 3px;
  transition: width 0.5s ease-out;
}

/* Feasibility Gauge */
.feasibility-gauge {
  padding: 16px;
  background-color: var(--bg-tertiary);
  border-radius: var(--radius-md);
}

.feas-score-display {
  text-align: center;
  margin-bottom: 12px;
}

.feas-score-value {
  font-size: 36px;
  font-weight: 700;
}

.feas-score-label {
  font-size: 16px;
  color: var(--text-muted);
}

.feasibility-gauge.feas-high .feas-score-value {
  color: var(--accent-green);
}

.feasibility-gauge.feas-medium .feas-score-value {
  color: #facc15;
}

.feasibility-gauge.feas-low .feas-score-value {
  color: #f87171;
}

.feas-bar {
  height: 8px;
  background-color: var(--bg-secondary);
  border-radius: 4px;
  overflow: hidden;
  margin-bottom: 12px;
}

.feas-bar-fill {
  height: 100%;
  border-radius: 4px;
  transition: width 0.5s ease-out;
}

.feas-high .feas-bar-fill {
  background: linear-gradient(90deg, #22c55e, #4ade80);
}

.feas-medium .feas-bar-fill {
  background: linear-gradient(90deg, #eab308, #facc15);
}

.feas-low .feas-bar-fill {
  background: linear-gradient(90deg, #ef4444, #f87171);
}

.feas-breakdown {
  display: flex;
  gap: 12px;
}

.feas-factor {
  flex: 1;
  text-align: center;
}

.feas-factor-label {
  display: block;
  font-size: 11px;
  color: var(--text-muted);
  margin-bottom: 2px;
}

.feas-factor-value {
  font-size: 13px;
  font-weight: 600;
  color: var(--text-secondary);
}

/* Cabinet Brief */
.brief-actions {
  display: flex;
  gap: 6px;
}

.brief-btn {
  padding: 6px 12px;
  border: 1px solid var(--border-default);
  border-radius: var(--radius-sm);
  font-size: 12px;
  font-weight: 500;
  cursor: pointer;
  transition: all var(--transition-fast);
}

.brief-btn.generate {
  background-color: rgba(88, 166, 255, 0.15);
  color: var(--accent-blue);
  border-color: var(--accent-blue);
}

.brief-btn.polish {
  background-color: rgba(139, 92, 246, 0.15);
  color: #a78bfa;
  border-color: #a78bfa;
}

.brief-btn:hover:not(:disabled) {
  opacity: 0.8;
}

.brief-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.brief-content {
  background-color: var(--bg-tertiary);
  border-radius: var(--radius-md);
  padding: 14px;
}

.brief-text {
  font-size: 13px;
  line-height: 1.6;
  color: var(--text-secondary);
  margin: 0;
  white-space: pre-line;
}

/* PDF Export */
.pdf-export-btn {
  width: 100%;
  padding: 12px;
  background: linear-gradient(135deg, rgba(88, 166, 255, 0.15), rgba(139, 92, 246, 0.15));
  border: 1px solid var(--accent-blue);
  border-radius: var(--radius-md);
  color: var(--accent-blue);
  font-size: 14px;
  font-weight: 600;
  cursor: pointer;
  transition: all var(--transition-fast);
}

.pdf-export-btn:hover:not(:disabled) {
  background: linear-gradient(135deg, rgba(88, 166, 255, 0.25), rgba(139, 92, 246, 0.25));
}

.pdf-export-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* PDF Export Container (hidden, white bg for print) */
.pdf-export-container {
  position: absolute;
  left: -9999px;
  top: 0;
  width: 800px;
  padding: 32px;
  background-color: #ffffff;
  color: #1a1a1a;
  font-family: 'Outfit', sans-serif;
}
